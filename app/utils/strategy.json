[
  {
    "strategy_name": "볼린저 중심선 재돌파 추세 추종",
    "indicators": [
      {
        "key": "bb.20",
        "type": "bollinger_bands",
        "params": { "length": 20, "stddev": 2 }
      }
    ],
    "rules": {
      "buy_condition": {
        "entry": [
          {
            "type": "touched_within",
            "within": 10,
            "condition": {
              "type": "compare",
              "lhs": "close",
              "op": "<=",
              "rhs": "bb.20.lower"
            }
          },
          { "type": "crosses_above", "lhs": "close", "rhs": "bb.20.middle" }
        ],
        "exit": [
          { "type": "crosses_below", "lhs": "close", "rhs": "bb.20.middle" }
        ]
      },
      "sell_condition": {
        "entry": [
          {
            "type": "touched_within",
            "within": 10,
            "condition": {
              "type": "compare",
              "lhs": "close",
              "op": ">=",
              "rhs": "bb.20.upper"
            }
          },
          { "type": "crosses_below", "lhs": "close", "rhs": "bb.20.middle" }
        ],
        "exit": [
          { "type": "crosses_above", "lhs": "close", "rhs": "bb.20.middle" }
        ]
      }
    }
  },

  {
    "strategy_name": "EMA20/EMA60 골든·데드 크로스",
    "indicators": [
      { "key": "ema.20", "type": "ema", "params": { "length": 20 } },
      { "key": "ema.60", "type": "ema", "params": { "length": 60 } }
    ],
    "rules": {
      "buy_condition": {
        "entry": [
          { "type": "crosses_above", "lhs": "ema.20", "rhs": "ema.60" }
        ],
        "exit": [{ "type": "crosses_below", "lhs": "ema.20", "rhs": "ema.60" }]
      },
      "sell_condition": {
        "entry": [
          { "type": "crosses_below", "lhs": "ema.20", "rhs": "ema.60" }
        ],
        "exit": [{ "type": "crosses_above", "lhs": "ema.20", "rhs": "ema.60" }]
      }
    }
  },

  {
    "strategy_name": "EMA20 > EMA60 추세 추종 (단순화)",
    "indicators": [
      { "key": "ema.20", "type": "ema", "params": { "length": 20 } },
      { "key": "ema.60", "type": "ema", "params": { "length": 60 } }
    ],
    "rules": {
      "buy_condition": {
        "entry": [
          { "type": "compare", "lhs": "ema.20", "op": ">", "rhs": "ema.60" }
        ],
        "exit": [{ "type": "compare", "lhs": "ema.20", "op": "<", "rhs": "ema.60" }]
      },
      "sell_condition": {
          "entry": [],
          "exit": []
      }
    }
  },

  {
    "strategy_name": "EMA20 괴리율 평균회귀 (완화)",
    "indicators": [
      { "key": "ema.20", "type": "ema", "params": { "length": 20 } }
    ],
    "derived": [
      { "key": "dev.ema20", "type": "deviation_pct", "formula": "(close - ema.20) / ema.20 * 100" }
    ],
    "rules": {
      "buy_condition": {
        "entry": [
          { "type": "threshold", "lhs": "dev.ema20", "op": "<=", "value": -0.1 }
        ],
        "exit": [
          { "type": "compare", "lhs": "dev.ema20", "op": ">=", "value": 0 }
        ]
      },
      "sell_condition": { "entry": [], "exit": [] }
    }
  },

  {
    "strategy_name": "볼린저 밴드 재돌파 (완화)",
    "indicators": [
      { "key": "bb.20", "type": "bollinger_bands", "params": { "length": 20, "stddev": 2 } }
    ],
    "rules": {
      "buy_condition": {
        "entry": [
          { "type": "compare", "lhs": "close", "op": ">", "rhs": "bb.20.middle" }
        ],
        "exit": [
          { "type": "compare", "lhs": "close", "op": "<", "rhs": "bb.20.middle" }
        ]
      },
      "sell_condition": { "entry": [], "exit": [] }
    }
  }
]
